"use strict";var cartList=JSON.parse(localStorage.getItem("cartList"));function bindHtml(){var t=cartList.every(function(t){return!0===t.isSelect}),c=null,n='\n<div class="top">\n<input class="selectAll" type="checkbox" '.concat(t?"checked":"",">   全选\n</div>\n    ");cartList.forEach(function(t){n+='\n        <div class="shangpin">\n        <input class="select" type="checkbox">\n        <img src="'.concat(t.pic,'" alt="" class="img1">\n        <p class="p1">').concat(t.itemName,'</p>\n        <div class="number">\n            <button class="sub">-</button>\n            <input type="text" value="').concat(t.number,'">\n            <button class="add">+</button>\n        </div>\n        <p class="span1">￥:').concat(t.price,"</p>\n    </div>\n        "),c+=t.number*t.price}),n+='\n    <div class="jiesuanb">\n    <p class="zongjia">总价： <span>'.concat(c,'</span></p>\n    <p class="js">结算</p>\n</div>\n</div>\n    '),$(".neirongb").html(n)}function bindEvent(){$(".neirongb").on("change",".selectAll",function(){var c=this;cartList.forEach(function(t){t.isSelect=c.checked}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("change",".selectOne",function(){var c=$(this).data("id");cartList.forEach(function(t){t.id===c&&(t.isSelect=!t.isSelect)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".neirongb").on("click",".add",function(){var c=$(this).data("id");cartList.forEach(function(t){0<=t.number&&t.id===c&&(t.number++,t.xiaoji=t.number*t.price)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".neirongb").on("click",".sub",function(){var c=$(this).data("id");cartList.forEach(function(t){1<=t.number&&t.id===c&&(t.number--,t.xiaoji=t.number*t.price)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".selectAll").click(function(){console.log($(this).prop("checked")),$(this).prop("checked")?$(".select").prop("checked",!0):$(".select").prop("checked",!1)})}cartList?(bindHtml(),bindEvent()):alert("您的购物车为空, 快去选购把");